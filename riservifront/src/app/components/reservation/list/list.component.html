<div class="container">
    <h2>Lista de Reservaciones</h2>
  
    <!-- Modo edición para actualizar una reservación -->
    <div *ngIf="editMode" class="edit-form">
      <h3>Editar Reservación</h3>
      <form (ngSubmit)="updateReservation()">
        <div class="form-group">
          <label for="customerName">Nombre del Cliente</label>
          <input id="customerName" [(ngModel)]="reservationToEdit!.customer.firstName" name="customerName" required />
        </div>
  
        <div class="form-group">
          <label for="reservationDate">Fecha de la Reservación</label>
          <input id="reservationDate" [(ngModel)]="reservationToEdit!.reservationDate" name="reservationDate" type="date" required />
        </div>
  
        <div class="form-group">
          <label for="numberOfPeople">Número de Personas</label>
          <input id="numberOfPeople" [(ngModel)]="reservationToEdit!.numberOfPeople" name="numberOfPeople" type="number" required />
        </div>
  
        <div class="form-group">
          <label for="discountApplied">Descuento Aplicado</label>
          <input id="discountApplied" [(ngModel)]="reservationToEdit!.discountApplied" name="discountApplied" type="number" required />
        </div>
  
        <button type="submit" class="btn btn-primary">Actualizar</button>
        <button type="button" (click)="editMode = false; reservationToEdit = null;" class="btn btn-secondary">Cancelar</button>
      </form>
    </div>
  
    <!-- Lista de reservaciones -->
    <div *ngIf="!editMode">
      <table class="table">
        <thead>
          <tr>
            <th>Cliente</th>
            <th>Fecha</th>
            <th>Número de Personas</th>
            <th>Descuento</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <!-- Iteración de reservaciones usando *ngFor -->
          <tr *ngFor="let reservation of reservations">
            <td>{{ reservation.customer.firstName }} {{ reservation.customer.lastName }}</td>
            <td>{{ reservation.reservationDate }}</td>
            <td>{{ reservation.numberOfPeople }}</td>
            <td>{{ reservation.discountApplied }}%</td>
            <td>
              <button (click)="editReservation(reservation)" class="btn btn-warning">Editar</button>
              <button (click)="deleteReservation(reservation.id)" class="btn btn-danger">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>